# 자바스크립트란?

자바스크립트(JavaScript)가 언어로서 지닌 특징에 대해 알아보겠습니다. 이어서 자바스크립트로 무엇을 할 수 있을지와 다른 기술들이 자바스크립트를 어떻게 활용하고 있는지에 대해서도 이야기해 보도록 하겠습니다.

## 자바스크립트는 무엇인가요?

*자바스크립트*는 *"웹페이지에 생동감을 불어넣기 위해"* 만들어졌습니다.

자바스크립트로 작성한 프로그램을 *스크립트(script)* 라고 부릅니다. 스크립트는 웹페이지의 HTML 안에 작성되고, 웹페이지 로드 시 자동으로 실행됩니다.

스크립트는 보통의 문자 형태로 작성 및 실행됩니다. 특별한 준비나 컴파일 없이 실행할 수 있습니다. 

이런 관점에서 보면, 자바스크립트는 [자바(Java)](https://en.wikipedia.org/wiki/Java_(programming_language))와는 매우 다른 언어라고 할 수 있습니다.

```smart header="왜 <u>자바</u>스크립트인가요?"
처음 자바스크립트가 만들어졌을 때는 "LiveScript"라는 다른 이름을 갖고 있었습니다. 당시 자바는 매우 유명한 언어였는데, 자바스크립트를 자바의 "동생 격인" 언어로 홍보하면 도움이 될 것이라는 판단에 이름을 바꾸게 되었습니다.

이후 자바스크립트는 독자적으로 발전해왔습니다. [ECMAScript](http://en.wikipedia.org/wiki/ECMAScript)라는 고유한 명세를 갖춘 독립적인 언어가 되었죠. 이제 자바스크립트는 자바와 아무런 연관이 없습니다.
```

현재 자바스크립트는 브라우저뿐만 아니라 서버에서도 실행할 수 있습니다. [자바스크립트 엔진(the JavaScript engine)](https://en.wikipedia.org/wiki/javascript_engine)이라 불리는 특별한 프로그램이 들어있는 모든 디바이스에서도 동작합니다.

브라우저엔 "자바스크립트 가상 머신"이라고 임베디드 엔진이 내장되어 있습니다.

이 엔진엔 여러 종류가 있는데, 엔진마다 특유의 코드네임이 있습니다. 아래처럼 말이죠.

- [V8](https://en.wikipedia.org/wiki/V8_(javascript_engine)) -- 크롬과 오페라에서 쓰입니다.
- [SpiderMonkey](https://en.wikipedia.org/wiki/SpiderMonkey) -- 파이어폭스에서 쓰입니다.
- IE는 버전에 따라 "Trident"나 "Chakra"라 불리는 엔진을 사용합니다. "ChakraCore"는 마이크로소프트 엣지에 사용되며, "SquirrelFish"는 사파리에 사용됩니다.

개발 관련 글에서 종종 이 코드네임들이 언급되기 때문에 이를 기억해 두는 것이 좋습니다. 이 튜토리얼에서도 이 코드네임들이 언급될 것입니다. "X라는 기능은 V8에서 지원됩니다."라는 문장을 만나면 크롬과 오페라에서 이 기능을 지원한다고 이해하시면 됩니다.

```smart header="자바스크립트 엔진은 무슨 일을 하나요?"

엔진은 복잡합니다. 하지만 동작 방식에 대한 기초는 간단히 설명할 수 있습니다.

1. 엔진(만약 브라우저라면 임베디드 엔진)은 스크립트를 읽습니다("파싱").
2. 읽어 들인 스크립트를 기계어로 전환합니다("컴파일").
3. 기계어로 전환된 코드를 실행합니다. 기계어로 전환되었기 때문에 실행 속도는 상당히 빠릅니다.

엔진은 프로세스의 각 단계에 최적화를 적용합니다. 심지어 실행 중인 컴파일된 스크립트를 지켜보면서, 이 스크립트에 흘러가는 데이터를 분석하고, 분석 결과를 토대로 기계어로 전환된 코드를 최적화 해주기도 합니다. 이런 과정을 거치면 스크립트 실행 속도는 더욱 더 빨라집니다.
```

## 브라우저 내의 자바스크립트가 할 수 있는 일은 무엇인가요?

모던 자바스크립트는 "안전한" 프로그래밍 언어입니다. 메모리나 CPU 같은 저수준 영역의 조작을 허용하지 않습니다. 애초에 이러한 접근이 필요치 않은 브라우저를 대상으로 만든 언어이기 때문이죠.

자바스크립트로 할 수 있는 것들은 실행 환경에 상당한 영향을 받습니다. [Node.js](https://wikipedia.org/wiki/Node.js) 환경에선 임의의 파일을 읽거나 쓰는 함수, 네트워크 요청을 수행할 수 있게 해주는 함수를 지원합니다.

브라우저 환경에선 웹페이지 조작, 사용자와 웹서버의 상호작용에 관한 모든 일을 할 수 있습니다.

브라우저 내의 자바스크립트가 할 수 있는 일에 대한 예시:

- 웹페이지에 새로운 HTML 코드 추가, 콘텐츠 변경, 스타일 수정
- 마우스 클릭이나 포인터 움직임, 키보드 키 눌림 등과 같은 사용자 행동에 대한 반응
- 네트워크를 통해 원격 서버에 요청 전송, 파일 다운로드와 업로드([AJAX](https://en.wikipedia.org/wiki/Ajax_(programming))나 [COMET](https://en.wikipedia.org/wiki/Comet_(programming))과 같은 기술 사용)
- 쿠키를 가져오거나 설정하기, 사용자에게 질문 건네기, 메시지 보여주기
- 클라이언트 측에 데이터 저장하기("로컬 스토리지")

## 브라우저 내의 자바스크립트가 할 수 없는 일은 무엇인가요?

사용자의 보안을 위해 브라우저 내의 자바스크립트가 할 수 있는 일은 제약이 있습니다. 악성 웹페이지가 개인 정보에 접근하거나 사용자의 데이터를 손상하는 것을 막기 위함이죠.

보안을 위한 제약사항 예시:

- 디스크에 저장된 임의의 파일을 읽거나 쓰기, 복사하거나 실행할 때 제약이 있을 수 있습니다. 운영체제가 지원하는 기능에 직접적으로 접근할 수 없기 때문이죠.

    모던 브라우저에선 파일을 다룰 수 있게 해주긴 하지만, 접근은 제한되어 있습니다. 사용자가 브라우저 창에 파일을 "끌어다 두거나" `<input>` 태그를 통해 파일을 선택할 때에만 파일에 대한 접근이 허용됩니다.

    카메라나 마이크, 기타 디바이스와 상호 작용할 수 있는 방법이 있지만, 이땐 사용자의 명시적인 허가가 필요합니다. 그러므로 자바스크립트가 활성화된 페이지라도 사용자 몰래 웹 카메라를 작동시키거나 주변을 관찰해 수집한 정보를 [국가안보국(NSA)](https://en.wikipedia.org/wiki/National_Security_Agency)에 전송할 수 없습니다.
- 브라우저 내 탭과 창은 대다수의 경우 서로의 정보를 알지 못합니다. 예외 상황이 종종 있긴 한데, 자바스크립트를 사용해 한 창에서 다른 창을 열 때가 그러한 경우입니다. 하지만 다른 도메인이나 프로토콜, 포트를 통해 사이트에 접근했다면 자바스크립트는 다른 페이지에 접근할 수 없습니다. 

    이를 "동일 출처 정책(Same Origin Policy)"이라고 합니다. 이 정책을 피하려면 *두 웹페이지*는 데이터 교환에 동의해야 합니다. 그리고 동의에 관한 특별한 자바스크립트 코드를 포함해야 합니다. 자세한 사항은 추후 학습할 예정입니다.

    다시한번 강조하지만, 이런 제약사항은 사용자의 보안을 위해 만들어졌습니다. 사용자가 열어 놓은 `http://anysite.com` 이라는 페이지에서 `http://gmail.com` 이라는 다른 탭에 열어놓은 페이지에 있는 정보에 접근하는걸 막기 위함입니다.
- 자바스크립트를 이용하면 현재 페이지가 유래한 서버와 쉽게 소통할 수 있습니다. 하지만 다른 사이트나 도메인에서 데이터를 받아오는 일은 불가능합니다. 가능하다 할지라도 원격 서버로부터 (HTTP 헤더에 표현된) 명확한 승인이 필요합니다. 이 역시 보안을 위한 제약사항입니다.

![](limitations.svg)

브라우저 환경 밖, 예를 들어 서버라면 이러한 제약은 존재하지 않을 것입니다. 다만, 모던 브라우저에선 추가 권한 허가를 요청하는 플러그인이나 익스텐션 설치가 허용됩니다.

## 자바스크립트의 특별한 점은 무엇인가요?

자바스크립트엔 다양한 장점이 있지만 여기선 *세 가지*만 언급해 보도록 하겠습니다.

```compare
+ HTML/CSS와 완전한 통합을 지원함
+ 간단한 일은 간단하게 처리할 수 있게 해줌
+ 모든 주요 브라우저에서 지원되고, 기본 언어로 사용됨
```
이 세 가지를 모두 지원하는 브라우저 기술은 자바스크립트뿐입니다.

이런 특징 때문에 자바스크립트는 브라우저 인터페이스를 만들 때 가장 널리 사용되고 있습니다.

새로운 기술을 배울 땐, 다양한 관점에서 해당 기술을 탐구하는 게 좋습니다. 지금부턴 새로운 언어나 브라우저 기능 등과 같은 자바스크립트에 영향을 주고 있는 최신 동향에 대해 알아보겠습니다. 


## 자바스크립트 "너머의" 언어들

자바스크립트의 문법은 모든 사람의 요구를 충족시키지 못합니다. 사람마다 각기 다른 기능을 원하기 때문이죠.

저마다 다른 프로젝트를 하고있고, 요구사항 역시 다르기 때문에 이는 당연한 일입니다.

이로 인해, 근래에 새로운 언어들이 쏟아져 나왔습니다. 이 언어들을 브라우저에서 돌아가게 하려면 자바스크립트로 *트랜스파일(transpile, 전환)*해야 합니다.

최신 도구를 사용하면 트랜스파일을 빠르고 명확하게 수행할 수 있습니다. 최신도구는 자바스크립트가 아닌 언어로 작성한 코드를 "보이지 않는 곳에서" 자동으로 전환될 수 있게 해줍니다.

주목할만한 언어 몇 가지를 아래에 나열해 보았습니다.

- [CoffeeScript](http://coffeescript.org/)는 자바스크립트를 위한 "syntactic sugar"입니다. 짧은 문법을 도입하여 이해하기 쉽고 명료한 코드를 작성할 수 있게 해줍니다. Ruby 개발자들이 좋아하는 언어입니다.
- [TypeScript](http://www.typescriptlang.org/)는 "형의 명시화(strict data typing)"에 집중한 언어입니다. 개발을 단순화 하고 복잡한 시스템 개발을 지원하기 위해서죠. 마이크로소프트에 의해 개발되었습니다.
- [Flow](http://flow.org/) 역시 데이터 타입을 지원하는데, TypeScript와는 다른 방식을 사용합니다. 페이스북이 개발하였습니다.
- [Dart](https://www.dartlang.org/)는 모바일 앱과 같이 브라우저가 아닌 환경에서 동작하는 고유의 엔진을 가진 독자적인 언어입니다. 자바스크립트로 트렌스파일 할 수 있고, 구글이 개발하였습니다.

이 외에도 더 많은 언어가 존재합니다. 자바스크립트로 트랜스파일 할 수 있는 언어 하나를 택해 사용한다고 하더라도 자신이 무엇을 하고 있는지 이해하려면 결국엔 자바스크립트를 알아야 합니다.

## 요약

- 자바스크립트는 브라우저만을 위한 언어로 고안되었지만, 지금은 다양한 환경에서 쓰이고 있습니다.
- 오늘날 자바스크립트는 HTML/CSS와의 완전한 통합과 더불어, 브라우저 환경에서 가장 널리 사용되는 언어로 자리매김하였습니다.
- 자바스크립트로 "트랜스파일"할 수 있는 다양한 언어들이 존재합니다. 이 언어들은 고유한 기능을 지원합니다. 자바스크립트에 숙달한 뒤에 이 언어들을 살펴볼 것을 권장합니다.